<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Meu Blog</title>
    <link rel="stylesheet" href="/styles.css" />
  </head>
  <body>
    <h1>Meu Blog</h1>
    <p>Bem-Vnindo ao meu Blog ðŸ¤—</p>

    <h2>Criar Novo Post</h2>
    <form action="/posts" method="POST">
      <label for="title">TÃ­tulo:</label><br />
      <input type="text" id="title" name="title" required /><br />
      <label for="content">ConteÃºdo:</label><br />
      <!-- <textarea id="content" name="content" required></textarea><br /> -->
      <textarea id="content" name="content" required placeholder="Digite  aqui seu Post ."></textarea><br />

      <button type="submit">Publicar</button>
    </form> <!-- â† AGORA o form termina aqui! âœ… -->
    
   <!-- TÃ­tulo da seÃ§Ã£o -->
<h2>Meus Posts</h2>

<!-- Verifica se hÃ¡ posts (se o array posts tem itens) -->
<% if (posts.length > 0) { %>

  <!-- Para cada post no array posts, executa o cÃ³digo abaixo -->
  <% posts.forEach(post => { %>
    <div>
      <!-- Mostra o tÃ­tulo do post -->
      <h3><%= post.title %></h3>
      <!-- Mostra o conteÃºdo do post -->
      <p><%= post.content %></p>

      <!-- FormulÃ¡rio para editar o post -->
      <form action="/posts/<%= post.id %>/edit" method="GET" style="display: inline">
        <!-- BotÃ£o que leva Ã  pÃ¡gina de ediÃ§Ã£o do post -->
        <button type="submit">Editar</button>
      </form>

      <!-- FormulÃ¡rio para excluir o post -->
      <form action="/posts/<%= post.id %>/delete" method="POST" style="display: inline">
        <!-- BotÃ£o que envia a solicitaÃ§Ã£o para excluir o post -->
        <button type="submit">Excluir</button>
      </form>
    </div>
  <!-- Fecha o loop de posts -->
  <% }) %>

<!-- Se nÃ£o houver posts, mostra esta mensagem -->
<% } else { %>
  <p>Nenhum post encontrado.</p>
<% } %>

<!-- Inclui o arquivo footer (rodapÃ©) da pÃ¡gina -->
<%- include('partials/footer') %>